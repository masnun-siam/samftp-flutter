import 'package:flutter_test/flutter_test.dart';
import 'package:samftp/features/home/data/datasources/datasource.dart';

void main() {
  late String uri;
  setUp(() {
    uri =
        'http://172.16.50.12/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/';
  });
  test('should get a list of titles', () async {
    // arrange
    final result = await DataSourceImpl().getWebsiteFiles(uri);
    print(result.map((e) => e.url));
    expect(result, isA<List<({String? title, String? url})>>());
  });
}

const _json = r'''

<!DOCTYPE html><html class="no-js" lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><title>index - powered by h5ai v0.29.0 (https://larsjung.de/h5ai/)</title><meta name="description" content="index - powered by h5ai v0.29.0 (https://larsjung.de/h5ai/)"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="shortcut icon" href="/_h5ai/public/images/favicon/favicon-16-32.ico"><link rel="apple-touch-icon-precomposed" type="image/png" href="/_h5ai/public/images/favicon/favicon-152.png"><link rel="stylesheet" href="/_h5ai/public/css/styles.css"><script src="/_h5ai/public/js/scripts.js" data-module="index"></script><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:300,400,700%7CUbuntu+Mono:400,700" class="x-head"><style class="x-head">#root,input,select{font-family:"Ubuntu","Roboto","Helvetica","Arial","sans-serif"!important}pre,code{font-family:"Ubuntu Mono","Monaco","Lucida Sans Typewriter","monospace"!important}</style></head><body class="index" id="root"><div id="fallback-hints"><span class="noJsMsg">Works best with JavaScript enabled!</span><span class="noBrowserMsg">Works best in <a href="http://browsehappy.com">modern browsers</a>!</span><span class="backlink"><a href="https://larsjung.de/h5ai/" title="h5ai v0.29.0 - Modern HTTP web server index.">powered by SamOnline</a></span></div><div id="fallback"><table><tr><th class="fb-i"></th><th class="fb-n"><span>Name</span></th><th class="fb-d"><span>Last modified</span></th><th class="fb-s"><span>Size</span></th></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/folder-parent.png" alt="folder-parent"/></td><td class="fb-n"><a href="..">Parent Directory</a></td><td class="fb-d"></td><td class="fb-s"></td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E01.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E01.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:39</td><td class="fb-s">158104 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E02.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E02.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158133 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E03.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E03.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158202 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E04.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E04.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158210 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E05.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E05.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158252 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E06.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E06.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158055 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E07.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E07.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158086 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E08.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E08.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:39</td><td class="fb-s">158076 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E09.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E09.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158060 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E10.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E10.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158223 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E11.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E11.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158079 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E12.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E12.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158137 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E13.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E13.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158174 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E14.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E14.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158102 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E15.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E15.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158101 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E16.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E16.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:39</td><td class="fb-s">158251 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E17.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E17.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158072 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E18.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E18.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158142 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E19.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E19.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158145 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E20.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E20.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158085 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E21.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E21.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158212 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E22.720p.BluRay.x264.150MB-Pahe.in.mkv">2.Broke.Girls.S01E22.720p.BluRay.x264.150MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">158175 KB</td></tr><tr><td class="fb-i"><img src="/_h5ai/public/images/fallback/file.png" alt="file"/></td><td class="fb-n"><a href="/SAM-FTP-1/TV-WEB-Series/TV%20Series%20%E2%98%85%20%200%20%20%E2%80%94%20%209/2%20Broke%20Girls%20%28TV%20Series%202011%E2%80%93%20%29%20720p/Season%201/2.Broke.Girls.S01E23E24.720p.BluRay.x264.300MB-Pahe.in.mkv">2.Broke.Girls.S01E23E24.720p.BluRay.x264.300MB-Pahe.in.mkv</a></td><td class="fb-d">2021-11-29 04:38</td><td class="fb-s">315071 KB</td></tr></table></div></body></html><!-- h5ai v0.29.0 - https://larsjung.de/h5ai/ -->

''';
